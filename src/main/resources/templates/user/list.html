<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<title>出勤画面</title>
<!-- 個別 CSS 読込 -->
<link rel=" stylesheet" th:href="@{/css/user/list.css}">
<!-- 個別 JS 読込 -->
<link rel="stylesheet"
	th:href="@{/webjars/datatables/css/jquery.dataTables.min.css}">
<script th:src="@{/webjars/datatables/js/jquery.dataTables.min.js}"
	defer></script>
<script th:src="@{/js/user/list.js}" defer></script>
<script th:inline="javascript">
	//出勤退勤ボタンの制御
	function startFunc() {
		const checkRecord = /*[[${checkRecord}]]*/"checkRecord";
		if(checkRecord ==0){
			document.getElementById("finish").classList.add("disabled");
		}else{
			document.getElementById("start").classList.add("disabled");
			alert("出勤中");
		}
	}
</script>

</head>
<body onload="startFunc()">
	<div layout:fragment="content">	
		<div id="user-record-form" class="header border-bottom">
			<h1>勤怠管理をするよ君</h1>
				<a id="start" class="btn btn-success" th:href="@{'/user/sRecord/'+${loginUserId}}">出勤</a>
				<a id="finish" class="btn btn-danger" th:href="@{'/user/fRecord/'+${loginUserId}}">退勤</a>

			<h2>出勤している人たち</h2>
			<div>
				<table class="table table-striped table-bordered table-hover ">
					<thead class="thead-light">
						<tr>
							<th class="th-width">名前</th>
							<th class="th-width">出勤時間</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="item:${workerList}">
 							<td th:text="${item. userName}"></td>
							<td th:text="${item.startTime}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>